<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AYDYN EIS</title>
    <meta name="description" content="">
    <link rel="stylesheet" href="../../assets/css/employee-main.css">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="../../assets/js/fileinput.js"></script>
    <script src="../../assets/js/fileinput_locale_fr.js"></script>
    <script src="../../assets/js/fileinput_locale_es.js"></script>
    <script src="../../assets/js/bootstrap/bootstrap.min.js"></script>
  </head>
  <body>
  <div id="attendance" class="container nav-attendance-2">
    <header class="header"></header>
    <div class="wrap">
      <nav class="nav"></nav>
      <div class="content">
        <div class="info">
          <div class="title">
            <ul class="aydyn-breakcrumb">
                <li><a href="absence.html">考勤</a></li>
                <li><a href="absence.html">假單記錄</a></li>
                <li>編輯</li>
            </ul>
          </div>

          <section>
            <form class="form-horizontal">
              <div class="form-group">
                <label class="col-sm-1 control-label">狀態</label>
                <div class="col-sm-2">
                  <input type="text" class="form-control pass" value="待補證明" readonly>
                </div>
                <label class="col-sm-1 control-label">回覆內容</label>
                <div class="col-sm-5">
                  <input type="text" class="form-control pass" value="保重身體！！！！" readonly>
                </div>
                <label class="col-sm-1 control-label">異動時間</label>
                <div class="col-sm-2">
                  <input type="text" class="form-control pass" value="2016/10/10 19:35" readonly>
                </div>
              </div>
            </form>
          </section>

          <section>
            <form id="myForm" class="form-horizontal">
              <div class="form-group">
                <label class="col-sm-1 control-label">請假區間</label>
                <div class='col-md-3'>
                  <div class='input-group date' id='startDate'>
                      <input type='text' class="form-control" value="2016/12/13 18:01" readonly>
                      <span class="input-group-addon">
                          <span class="fa fa-calendar"></span>
                      </span>
                  </div>
                </div>
                <div class='col-md-3'>
                  <div class='input-group date' id='endDate'>
                      <input type='text' class="form-control" value="2016/12/13 18:01" readonly>
                      <span class="input-group-addon">
                          <span class="fa fa-calendar"></span>
                      </span>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="col-sm-1 control-label">類別</label>
                <div class="col-sm-3">
                  <select id="leaveType" class="form-control" disabled>
                    <option disabled selected value>請選擇請假類別</option>
                    <option value="N">事假</option>
                    <option selected>病假</option>
                    <option value="N">公假</option>
                    <option>婚假</option>
                    <option>喪假</option>
                    <option>產假</option>
                    <option>陪產假</option>
                    <option value="N">生理假</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <label class="col-sm-1 control-label">事由</label>
                <div class="col-sm-11">
                  <input type="text" class="form-control" value="牙齒超痛，我要看牙醫" readonly>
                </div>
              </div>

              <div id="proof" class="form-group">
                <label class="col-sm-1 control-label required">證明文件</label>
                <div id="fieldUpload" class="col-sm-11">
                  <input id="annouoment-attach" name="input24[]" type="file" multiple class="file-loading" required>
                </div>
              </div>

              <div class="form-group">
                <label class="col-sm-1 control-label">時數折抵</label>
                <div class="col-sm-1">
                  <input type="text" id="total" class="form-control" value="0" readonly>
                </div>
                <label class="col-sm-0 control-label">HR</label>
              </div>

              <div class="form-group">
                <label class="col-sm-1 control-label">請假時數</label>
                <div class="col-sm-1">
                  <input type="text" class="form-control" value="5" readonly>
                </div>
                <label class="col-sm-0 control-label">HR</label>
              </div>

              <hr>

              <div class="form-group">
                <div class="col-sm-12 text-right">
                  <button type="submit" class="btn btn-submit">Submit</button>
                </div>
              </div>
            </form>
          </section>
          <button type="button" id="back" class="btn btn-default" data-href="absence.html"><span class="fa fa-reply"></span>Back</button>
        </div>
        <footer></footer>
        <!-- Modal -->
        <div class="modal fade" id="modalDelete" role="dialog">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span class="fa fa-window-close"></span></button>
              <div class="modal-title">
                <h2>確定離開當前頁面？</h2>
                <p>您尚未將編輯過的表單送出，資料將會流失</p>
              </div>
              <div class="form-group">
                <div class="col-sm-12 text-center">
                  <button type="button" class="btn btn-default " data-dismiss="modal" aria-label="Close">Cancel</button>
                  <a href="absence.html" type="submit" class="btn btn-submit" aria-label="Close">Leave</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Modal -->
      </div>
    </div>
  </div>
    

    
  </body>
  <script src="../../assets/js/function.js"></script>
  <script>
    $('#annouoment-attach').fileinput({
        browseLabel: '選擇檔案...',
        cancelLabel: '取消',
        initialPreview: [
            //- 'http://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/FullMoon2010.jpg/631px-FullMoon2010.jpg',
            //- 'http://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Earth_Eastern_Hemisphere.jpg/600px-Earth_Eastern_Hemisphere.jpg'
        ],
        // initialPreviewShowDelete: true,
        // initialPreviewAsData: true,
        initialPreviewConfig: [
            //- {caption: "飯店介紹.jpg", size: 930321, width: "120px", key: 1},
            //- {caption: "Earth.jpg", size: 1218822, width: "120px", key: 2}
        ],
        layoutTemplates: {
            actions: '<div class="file-actions">\n' +
                    '    <div class="file-footer-buttons" style="float:none">\n' +
                    '        {upload}<button type="button" class="kv-file-zoom btn btn-xs btn-default" title="View Details"><i class="glyphicon glyphicon-zoom-in"></i></button>'+
                    '<button type="button" class="kv-file-remove btn btn-default" {dataUrl}{dataKey}><i class="fa fa-trash"></i></button>{other}' +
                    '    </div>\n' +
                    '</div>',
            actionDelete: '<button type="button" class="kv-file-remove btn btn-danger btn-block" {dataUrl}{dataKey}><i class="fa fa-trash-o"></i> Delete</button>',
            actionUpload: '',
        },
        deleteUrl: "/site/file-delete",
        uploadUrl: '/file-upload-batch/2',
        overwriteInitial: true,
        maxFileSize: 25600,
        initialCaption: "選擇檔案",
    });

    $('#back').click(function(){
      var check = 0;
      $('#annouoment-attach').each(function(index, item){
        if(item.value != '')check++;
      });
      if(check > 0){
        $('#modalDelete').modal('show');
      }else{
        $href = $(this).data('href');
        window.location.href = $href;
      }
    });
  </script>
</html>