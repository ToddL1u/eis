<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AYDYN EIS</title>
    <meta name="description" content="">
    <!--meta(name='viewport', content='width=device-width, initial-scale=1')-->
    <link rel="stylesheet" href="../../assets/css/admin-main.css">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="../../assets/js/jasny-bootstrap.min.js"></script>
    <script src="../../assets/js/fileinput.js"></script>
    <script src="../../assets/js/editormd/editormd.js"></script>
    <script src="../../assets/lib/prettify.min.js"></script>
    <script src="../../assets/lib/rephael.min.js"></script>
    <script src="../../assets/js/marked.js"></script>
    <script src="../../assets/lib/underscore.min.js"></script>
    <script src="../../assets/js/star-rating.js"></script>
    <script src="../../assets/js/moment.js"></script>
    <script src="../../assets/js/bootstrap-timepicker.js"></script>
    <script src="../../assets/js/jquery.tablesorter.js"></script>
    <script src="../../assets/js/jquery.tw-city-selector.min.js"></script>
    <script src="../../assets/js/bootstrap/bootstrap.min.js"></script>
    <script src="../../assets/js/jquery-comments.min.js"></script>
  </head>
  <body>
    <div id="workshop" class="container nav-workshop-3">
      <nav class="nav"></nav>
      <div class="wrap">
        <header>
          <div class="header-base"><a id="logo" href="../index">&nbsp;</a>
            <ul class="toolbar toolbar-right top-right">
              <li> <span class="badge-notification aydyn-badge">50</span><a href="../index/notification.html"><span class="btn-notification"></span></a></li>
              <li><a href="../index/config.html"><span class="btn-cofig"></span></a></li>
              <li> <a href="../../"><span class="btn-logout"></span>Log out</a></li>
            </ul>
          </div>
          <div class="subnav">
            <ul class="aydyn-breakcrumb">
              <li>工作坊</li>
              <li>會員款項</li>
              <li>款項明細</li>
            </ul>
            <div class="subnav-subtitle">2016/11/12</div>
          </div>
        </header>
        <div class="content">
          <div class="text-right account-action">
            <button class="btn btn-failed btn-flat-table">處理失敗</button>
            <button class="btn btn-success btn-flat-table">確定匯款</button>
          </div>
          <section class="form-block section-block">
            <div href="#R22345" data-toggle="collapse" class="info-row">
              <div class="tag-wait">R22345</div>
            </div>
            <div id="R22345" class="collapse in">
              <table class="table table-account-detail">
                <thead class="table-subheader">
                  <tr>
                    <th> 
                      <input type="checkbox" class="checkbox-circle">基本資料
                      <ul>
                      </ul>
                    </th>
                    <th>提領明細</th>
                    <th>匯款資訊</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <form>
                        <div class="form-group">
                          <label class="control-label col-sm-5">請款日</label>
                          <div class="col-sm-7">
                            <input readonly value="2016/10/10" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">姓名</label>
                          <div class="col-sm-7">
                            <input readonly value="Jake Gyllenhaal" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">類別</label>
                          <div class="col-sm-7">
                            <input readonly value="講師請款" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">狀態</label>
                          <div class="col-sm-7">
                            <input readonly value="處理中" class="form-control text-green">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">請款編號</label>
                          <div class="col-sm-7">
                            <input readonly value="A12345" class="form-control">
                          </div>
                        </div>
                      </form>
                    </td>
                    <td>
                      <form class="form-course-list">
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">金額</label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="100000" class="form-control text-warn">
                          </div>
                        </div>
                      </form>
                    </td>
                    <td>
                      <form class="form-course-list form-info">
                        <div class="form-group">
                          <div class="col-sm-8">
                            <p>808<span>1234567123567</span></p>
                            <label class="control-label col-sm-5">手續費0</label>
                            <div class="col-sm-7">
                              <input readonly type="number" value="50000" class="form-control text-warn">
                            </div>
                          </div>
                          <div class="col-sm-4">
                            <input name="input4[]" type="file" multiple class="file-loading">
                          </div>
                        </div>
                        <div class="form-group">
                          <div class="col-sm-8">
                            <p>808<span>1234567123567</span></p>
                            <label class="control-label col-sm-5">手續費0</label>
                            <div class="col-sm-7">
                              <input readonly type="number" value="50000" class="form-control text-warn">
                            </div>
                          </div>
                          <div class="col-sm-4">
                            <input name="input4[]" type="file" multiple class="file-loading">
                          </div>
                        </div>
                        <div class="form-group">
                          <div class="col-sm-8">
                            <label class="control-label col-sm-7"></label>
                            <div class="col-sm-5">
                              <input readonly type="number" value="100000" class="form-control text-warn">
                            </div>
                          </div>
                          <div class="col-sm-4"></div>
                        </div>
                      </form>
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td></td>
                    <td></td>
                    <td>
                      <textarea placeholder="備註..."></textarea>
                    </td>
                  </tr>
                </tfoot>
              </table>
              <table class="table table-account-detail">
                <thead class="table-subheader">
                  <tr>
                    <th> 
                      <input type="checkbox" class="checkbox-circle">基本資料
                      <ul>
                      </ul>
                    </th>
                    <th>提領明細</th>
                    <th>匯款資訊</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <form>
                        <div class="form-group">
                          <label class="control-label col-sm-5">請款日</label>
                          <div class="col-sm-7">
                            <input readonly value="2016/10/10" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">姓名</label>
                          <div class="col-sm-7">
                            <input readonly value="Jake Gyllenhaal" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">類別</label>
                          <div class="col-sm-7">
                            <input readonly value="講師請款" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">狀態</label>
                          <div class="col-sm-7">
                            <input readonly value="處理中" class="form-control text-green">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">請款編號</label>
                          <div class="col-sm-7">
                            <input readonly value="A12345" class="form-control">
                          </div>
                        </div>
                      </form>
                    </td>
                    <td>
                      <form class="form-course-list">
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">金額</label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="100000" class="form-control text-warn">
                          </div>
                        </div>
                      </form>
                    </td>
                    <td>
                      <form class="form-course-list form-info">
                        <div class="form-group">
                          <div class="col-sm-8">
                            <p>808<span>1234567123567</span></p>
                            <label class="control-label col-sm-5">手續費0</label>
                            <div class="col-sm-7">
                              <input readonly type="number" value="50000" class="form-control text-warn">
                            </div>
                          </div>
                          <div class="col-sm-4">
                            <input name="input4[]" type="file" multiple class="file-loading">
                          </div>
                        </div>
                        <div class="form-group">
                          <div class="col-sm-8">
                            <p>808<span>1234567123567</span></p>
                            <label class="control-label col-sm-5">手續費0</label>
                            <div class="col-sm-7">
                              <input readonly type="number" value="50000" class="form-control text-warn">
                            </div>
                          </div>
                          <div class="col-sm-4">
                            <input name="input4[]" type="file" multiple class="file-loading">
                          </div>
                        </div>
                        <div class="form-group">
                          <div class="col-sm-8">
                            <label class="control-label col-sm-7"></label>
                            <div class="col-sm-5">
                              <input readonly type="number" value="100000" class="form-control text-warn">
                            </div>
                          </div>
                          <div class="col-sm-4"></div>
                        </div>
                      </form>
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td></td>
                    <td></td>
                    <td>
                      <textarea placeholder="備註..."></textarea>
                    </td>
                  </tr>
                </tfoot>
              </table>
              <table class="table table-account-detail">
                <thead class="table-subheader">
                  <tr>
                    <th> 
                      <input type="checkbox" class="checkbox-circle">基本資料
                      <ul>
                      </ul>
                    </th>
                    <th>提領明細</th>
                    <th>匯款資訊</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <form>
                        <div class="form-group">
                          <label class="control-label col-sm-5">請款日</label>
                          <div class="col-sm-7">
                            <input readonly value="2016/10/10" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">姓名</label>
                          <div class="col-sm-7">
                            <input readonly value="Jake Gyllenhaal" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">類別</label>
                          <div class="col-sm-7">
                            <input readonly value="學生退款" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">狀態</label>
                          <div class="col-sm-7">
                            <input readonly value="處理中" class="form-control text-green">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">請款編號</label>
                          <div class="col-sm-7">
                            <input readonly value="A12345" class="form-control">
                          </div>
                        </div>
                      </form>
                    </td>
                    <td>
                      <form class="form-course-list">
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">金額</label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn total-price">
                          </div>
                        </div>
                      </form>
                    </td>
                    <td>
                      <form class="form-course-list form-info">
                        <div class="form-group">
                          <div class="col-sm-8">
                            <p>808<span>1234567123567</span></p>
                            <p class="price-old"></p>
                            <label class="control-label col-sm-5">手續費0</label>
                            <div class="col-sm-7"><span class="fa fa-pencil-square-o"></span>
                              <input readonly type="number" value="50000" class="form-control text-warn form-block click-input">
                            </div>
                          </div>
                          <div class="col-sm-4">
                            <input name="input4[]" type="file" multiple class="file-loading">
                          </div>
                        </div>
                        <div class="form-group">
                          <div class="col-sm-8">
                            <label class="control-label col-sm-7"></label>
                            <div class="col-sm-5">
                              <input readonly type="number" value="50000" class="form-control text-warn">
                            </div>
                          </div>
                          <div class="col-sm-4"></div>
                        </div>
                      </form>
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td></td>
                    <td></td>
                    <td>
                      <textarea placeholder="備註..."></textarea>
                    </td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </section>
          <section class="form-block section-block">
            <div href="#R22346" data-toggle="collapse" class="info-row">
              <div class="tag-wait">R22346</div>
            </div>
            <div id="R22346" class="collapse in">
              <table class="table table-account-detail">
                <thead class="table-subheader">
                  <tr>
                    <th> 
                      <input type="checkbox" class="checkbox-circle">基本資料
                      <ul>
                      </ul>
                    </th>
                    <th>提領明細</th>
                    <th>匯款資訊</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <form>
                        <div class="form-group">
                          <label class="control-label col-sm-5">請款日</label>
                          <div class="col-sm-7">
                            <input readonly value="2016/10/10" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">姓名</label>
                          <div class="col-sm-7">
                            <input readonly value="Jake Gyllenhaal" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">類別</label>
                          <div class="col-sm-7">
                            <input readonly value="學生退款" class="form-control">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">狀態</label>
                          <div class="col-sm-7">
                            <input readonly value="處理中" class="form-control text-green">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-5">請款編號</label>
                          <div class="col-sm-7">
                            <input readonly value="A12345" class="form-control">
                          </div>
                        </div>
                      </form>
                    </td>
                    <td>
                      <form class="form-course-list">
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">
                             
                            JavaScript程式設計新手村(上)
                            <p>11/16~11/19<span>9堂</span></p>
                          </label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn">
                          </div>
                        </div>
                        <div class="form-group">
                          <label class="control-label col-sm-7">金額</label>
                          <div class="col-sm-5">
                            <input readonly type="number" value="50000" class="form-control text-warn total-price">
                          </div>
                        </div>
                      </form>
                    </td>
                    <td>
                      <form class="form-course-list form-info">
                        <div class="form-group">
                          <div class="col-sm-8">
                            <p>808<span>1234567123567</span></p>
                            <p class="price-old"></p>
                            <label class="control-label col-sm-5">手續費0</label>
                            <div class="col-sm-7"><span class="fa fa-pencil-square-o"></span>
                              <input readonly type="number" value="50000" class="form-control text-warn form-block click-input">
                            </div>
                          </div>
                          <div class="col-sm-4">
                            <input name="input4[]" type="file" multiple class="file-loading">
                          </div>
                        </div>
                        <div class="form-group">
                          <div class="col-sm-8">
                            <label class="control-label col-sm-7"></label>
                            <div class="col-sm-5">
                              <input readonly type="number" value="50000" class="form-control text-warn">
                            </div>
                          </div>
                          <div class="col-sm-4"></div>
                        </div>
                      </form>
                    </td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td></td>
                    <td></td>
                    <td>
                      <textarea placeholder="備註..."></textarea>
                    </td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </section>
          <div class="text-right m-t-5"><a href="account.html">
              <button class="btn btn-default btn-flat-table">回前頁</button></a>
            <button data-toggle="modal" data-target="#modalSubmit" class="btn btn-default btn-warn btn-flat-table">儲存</button>
          </div>
        </div>
        <footer></footer>
      </div>
    </div>
  </body>
  <script src="../../assets/js/function.js"></script>
  <script>
    var tag_success = '<li class="tag-success">結清</li>';  
    var tag_failed = '<li class="tag-failed">處理失敗</li>';
    
    $('.btn-success').click(function(){
      $(this).parent().siblings().find('input:checkbox:checked').prop('checked', false).siblings('ul').append().html(tag_success);
    });
    
    $('.btn-failed').click(function(){
      $(this).parent().siblings().find('input:checkbox:checked').prop('checked', false).siblings('ul').append().html(tag_failed);
    });
    
    function check(){
      textarea();
      $('table').each(function(){
        if($(this).find('li').hasClass('tag-success')){
          $(this).find('ul').remove();
          $(this).find('input:checkbox').remove();
          $(this).find('textarea').prop("disabled", true);
          $(this).find('td:first-child').find('input.text-green').val("結清").removeClass('text-green');
          $(this).find('.fa-pencil-square-o, .fileinput-remove-button, .btn-primary').hide();
        }else if($(this).find('li').hasClass('tag-failed')){
          $(this).find('ul').remove();
          $(this).find('input:checkbox').remove();
          $(this).find('textarea').prop("disabled", true);
          $(this).find('td:first-child').find('input.text-green').val("處理失敗").removeClass('text-green');
          $(this).find('.fa-pencil-square-o, .fileinput-remove-button, .btn-primary').hide();
        }
      });
    };
    
    function textarea(){
      $('table').each(function(){
        if($(this).find('li').hasClass('tag-success') && $(this).find('li').hasClass('tag-failed')){
          $(this).find('textarea').prop("disabled", true);
        }
      });
    };
    
    $('body').on('click','button[type="submit"]',function(){
      check();
    });
    
    $(".file-loading").fileinput({
      showCaption: false,
      removeIcon: '<i class="fa fa-trash"></i>',
      browseIcon: '<i class="fa fa-upload"></i>',
      zoomInd: '<i class="fa fa-picture-o"></i>',
      maxFileCount: 1,
    });
    $('.hidden-xs').text('');
    $('.fileinput-upload-button,.file-upload-indicator,.file-footer-caption').remove();
    
    $('.fa-pencil-square-o').click(function(){
      var total_price = $(this).parents('td').siblings().find('.total-price').val();
      $(this).hide();
      $(this).siblings().attr('readonly',false);
      $(this).parent().siblings('.price-old').text(total_price).show();
      $(this).parents('.form-group').css('height','80px');
      edit_money();
    });
    
    function edit_money(){
      $('.click-input').blur(function(){
        var price = $(this).val();
        var old_price = $(this).parents('td').siblings().find('.total-price').val();
        if(price == old_price){
          $(this).parent().siblings('.price-old').hide();
          $(this).attr('readonly',true);
          $(this).siblings().show();
          $(this).parents('.form-group').css('height','55px');
          $(this).parents('.form-group').siblings().find('input').val(price);
        }else{
          $(this).attr('readonly',true);
          $(this).parents('.form-group').siblings().find('input').val(price);
          $(this).siblings().show();
        }
      })
    }
  </script>
</html>